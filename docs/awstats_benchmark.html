<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="description" content="AWStats Documentation - Benchmark page">
<meta name="keywords" content="awstats, awstat, benchmark, speed, dns, lookup, time">
<meta name="robots" content="index,follow">
<meta name="title" content="AWStats Documentation - Benchmark page">
<title>AWStats Documentation - Benchmark page</title>
<link rel="stylesheet" href="styles.css" type="text/css">
<!-- $Revision$ - $Author$ - $Date$ -->
</head>

<body topmargin=10 leftmargin=5>


<table style="font: 10pt arial,helvetica,verdana" cellpadding=0 cellspacing=0 border=0 bgcolor=#FFFFFF width=100%>

<!-- Large -->
<tr style="font: 10pt arial,helvetica,verdana">
<td bgcolor=#9999cc align=center><a href="/"><img src="images/awstats_logo4.png" border=0></a></td>
<td bgcolor=#9999cc align=center>
<br>
<font style="font: 16pt arial,helvetica,sanserif" color=#EEEEFF><b>AWStats logfile analyzer 5.9 Documentation</b></font><br>
<br>
</td>
<td bgcolor=#9999cc align=center>
&nbsp;
</td>
</tr>

</table>


<br><br><H1 style="font: 26px arial,helvetica,sanserif">Benchmarks</H1>

<br>
AWStats update process must be ran frequently, so it's important to know what is AWStats
speed to choose an optimum delay between each update process according to AWStats speed and
the refresh rate you need to have.<br>
AWStats speed depends on AWStats version and options/setup you use in configuration file.<br>

<br>
<br>
<b><u>This is benchmark results with AWStats version 5.3 and a common configuration:</u></b><br>
<br>
HARDWARE: Athlon 1 GHz / 128Mb<br>
SOFTWARE: Windows 2000 / Perl 5.8 (Standard Perl)<br>
CONFIG OPTIONS: Default values were used: <a href="awstats_config.html#LogFormat">LogFormat</a>=1, <a href="awstats_config.html#DNSLookup">DNSLookup</a>=0, <a href="awstats_config.html#URLWithQuery">URLWithQuery</a>=0, <a href="awstats_config.html#URLReferrerWithQuery">URLReferrerWithQuery</a>=0, <a href="awstats_config.html#URLWithAnchor">URLWithAnchor</a>=0, No plugins<br>
AVERAGE SPEED: <b>4500</b> lines by seconds<br>
Other times for different kind of web sites sizes are shown later in this page...<br>

<br>
<br>
<b><u>This is other important information to know:</u></b><br>
<br>
- A log file size is about <b>150</b> (NCSA common/CLF log files) to <b>320 times</b> (NCSA extended/XLF/ELF log files) its number of lines,<br>
- <b>1,000 visits</b> = <b>8,000 pages</b> (with 8 pages/visits) = <b>64,000 lines</b> (with 8 hits/page) = <b>20 MB file</b> => <b>15 seconds</b> (Athlon 1GHz, Standard Perl 5.8)<br>
- History files (resuming the log analysis) has the following size (one file a month) :
<b>15000+90*x+100*y bytes</b> (where x is number of unique visitors a month and y is number of different pages on web sites)<br>
WARNING ! All those data are average values for a common public site with default configuration.
Calculation rule can be seriously changed according to web server or AWStats configuration and web site content.<br>

<br>
Don't forget that benchmarks of log analyzers are made without reverse DNS lookup because DNS
lookup is so slow (depending on Internet network and your system), that if enabled in AWStats
configuration file, it would take more than <b>99%</b> of the time of a log analysis !
Take a look at the following chart to:<br>
- Get more real ideas on benchmarks results<br>
- Get more information and advice on a good setup for your site.<br>

<br>
<br>
<b><u>This is examples of frequency/parameters you should use to have a good use of AWStats:</u></b><br>
<br>
<table border=1 cellspacing=0 cellpadding=2 style="font: 12px; arial,verdana">
<tr bgcolor=#EEEEEE><td rowspan=2>Your Web site traffic</td><td colspan=3>Recommended values for parameters</td><td rowspan=2>Recommended update frequency<br>(Rotate log delay)</td><td rowspan=2>Memory required**</td><td rowspan=2>Duration***</td></tr>
<tr bgcolor=#EEEEEE><td>DNSLookup*</td><td>URLWithQuery</td><td>URLReferrerWithQuery</td></tr>
<tr><td rowspan=2>     0 -     1,000 visits/month</td><td>1</td><td>0 or 1</td><td>0 or 1</td><td>Once a day<br>Log files are 0-1 MB<br>2000 lines to process</td><td>4 MB free</td><td>2mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0 or 1</td><td>0 or 1</td><td>Once a day<br>Log files are 0-1 MB<br>2000 lines to process</td><td>4 MB free</td><td>1s</td></tr>
<tr><td rowspan=2> 1,000 -    10,000 visits/month</td><td>1</td><td>0 or 1</td><td>0 or 1</td><td>Once a day<br>Log files are 1-10 MB<br>2000-20000 lines</td><td>4-8 MB free</td><td>2-10mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0 or 1</td><td>0 or 1</td><td>Once a day<br>Log files are 1-10 MB<br>2000-20000 lines</td><td>4-8 MB free</td><td>1-10s</td></tr>
<tr><td rowspan=2>10,000 -    100,000 visits/month</td><td>1</td><td>0 or 1</td><td>0 or 1</td><td>Every 12 hours<br>Log files are 5-50 MB<br>10000-100000 lines</td><td>8-16 MB free</td><td>5-50mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0 or 1</td><td>0 or 1</td><td>Every 12 hours<br>Log Files are 5-50 MB<br>10000-100000 lines</td><td>8-16 MB free</td><td>5-50s</td></tr>
<tr><td rowspan=2>100,000 -   500,000 visits/month</td><td>1</td><td>0</td><td>0 or 1</td><td>Every hour<br>Log Files are 4-16 MB<br>10000-50000 lines</td><td>16-64 MB free</td><td>5-25mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0</td><td>0 or 1</td><td>Every hour<br>Log Files are 4-16 MB<br>10000-50000 lines</td><td>16-64 MB free</td><td>5-25s</td></tr>
<tr><td>         500,000 - 2,000,000 visits/month</td><td>0 (or 2)</td><td>0</td><td>0</td><td>Every hour<br>Log Files are 16-64 MB<br>50000-200000 lines</td><td>64-256 MB free</td><td>25-120s</td></tr>
<tr><td>       2,000,000 - 4,000,000 visits/month</td><td>0 (or 2)</td><td>0</td><td>0</td><td>Every hour<br>Log Files are 64-128 MB<br>200000-400000 lines</td><td>256-512 MB free</td><td>120-240s</td></tr>
<tr><td>      +4,000,000 visits/month</td><td colspan=6>AWStats is not a good choice for such web sites. Try a tool with less features but faster like "row counter log analyzers" like <a href="http://www.analog.cx">Analog</a> (Can try also <a href="http://www.mrunix.net/webalizer/">Webalizer</a>)</td></tr>
</table>
* You should set <a href="awstats_config.html#DNSLookup">DNSLookup</a> parameter to 0 (or 2) if<br>
&nbsp;&nbsp; &nbsp;&nbsp; - reverse DNS lookup is already done in your log file,<br>
&nbsp;&nbsp; &nbsp;&nbsp; - or if your web site has more than 250,000 visits a month.<br>
Note: Country report can works without reverse DNS lookup if plugin 'geoip' is enabled (faster and more accurate than reverse DNS lookup).<br>
** This is free memory required for update process (in MB), this is not hardware memory installed !<br>
Warning: If you use the <a href="awstats_config.html#URLWithQuery">URLWithQuery</a> or <a href="awstats_config.html#URLReferrerWithQuery">URLReferrerWithQuery</a> option, or forget
to complete correctly <a href="awstats_config.html#URLQuerySeparators">URLQuerySeparators</a> for some sites, this value can be dramatically increased.<br>
*** Duration is with Athlon 1GHz/128Mb, Standard Perl 5.8 and LogFormat=1.<br>

<br>
<br>
<a name="ADVICES"></a><b><u>SOME IMPORTANT ADVICES FOR A GOOD USE OF AWSTATS:</u></b><br>
<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Check that <a href="awstats_config.html#DNSLookup">DNSLookup</a> is disabled in AWStats (DNSLookup must
be set to 0, or 2 to only use a DNS file resolver). Note that you still can have a 'Country' report
without DNS lookup enabled. For this you must enable the 'geoip' plugin. Without this plugin, 'Country'
report will works only if hosts addresses in your log file are already resolved (need to setup your web
server to do so, your web server will be slowed). With DNSLookup enabled, log analyze speed is decreased
by 40 to 100 times.<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Use carefully parameters <a href="awstats_config.html#URLWithQuery">URLWithQuery</a>, <a href="awstats_config.html#URLReferrerWithQuery">URLReferrerWithQuery</a> and <a href="awstats_config.html#URLWithAnchor">URLWithAnchor</a>
(Let them set to 0 if you don't know what they means) and check your web site URLs' syntax to know if you don't need to complete the parameter <a href="awstats_config.html#URLQuerySeparators">URLQuerySeparators</a>.
If you really need to use <a href="awstats_config.html#URLWithQuery">URLWithQuery</a>=1, check that <a href="awstats_config.html#URLWithQueryWithoutFollowingParameters">URLWithQueryWithoutFollowingParameters</a> is set properly.<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Be sure that your <a href="awstats_config.html#HostAliases">HostAliases</a> parameter list is complete.<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Rotate your log (See <a href="awstats_faq.html#ROTATE">FAQ-SET500</a>) and launch AWStats more often (from crontab or a scheduler, See <a href="awstats_faq.html#CRONTAB">FAQ-SET550</a>).
 The more often you
launch AWStats, the less AWStats has new lines in log to process. This solve also the ActiveState memory problem (see next advice).<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Use last Perl version (For example 5.8 is 5% faster than 5.6) and, more important, use standard Perl distribution instead of ActiveState (For example Standard Perl 5.8 Win32 binary is 25% faster than
ActiveState. And ActiveState 5.006, and may be other versions, have important memory problems making speed of analysis slower and slower when analysing more and more lines).<br>
<img src="images/star.png"><img src="images/star.png">
- Use last AWStats version.<br>
<img src="images/star.png">
- If you use Apache and don't rotate your logs (not the best way of working), set <a href="awstats_config.html#PurgeLogFile">PurgeLogFile</a> to 1 (By default, to avoid bad surprise,
<a href="awstats_config.html#PurgeLogFile">PurgeLogFile</a> is 0 in configure file, but you can set it to 1 to ask AWStats
to purge the log file after processing it, this increase speed for next run).<br>
<br>

<hr>

<script language=javascript>
	var lastmod = new Date(document.lastModified);
	if (lastmod.getDate() > 0) {
		if (lastmod.getDate()<10) zerod="0"
		else zerod="";
		if (lastmod.getMonth()<9) zerom="0"
		else zerom=""
		year2kok=lastmod.getYear();
		if (year2kok<100) year2kok+=2000;
		if ((year2kok>=100) && (year2kok < 1970)) year2kok+=1900;
		document.writeln("Last revision: "+year2kok+"-"+zerom+(lastmod.getMonth()+1)+"-"+zerod+lastmod.getDate());
	}
</script>

</body>
</html>
